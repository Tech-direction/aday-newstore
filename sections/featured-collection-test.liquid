{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}

{{ 'component-slider.css' | asset_url | stylesheet_tag }}
{{ 'template-collection.css' | asset_url | stylesheet_tag }}

{% if section.settings.image_shape == 'blob' %}
  {{ 'mask-blobs.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{%- if section.settings.enable_quick_add -%}
  {{ 'quick-add.css' | asset_url | stylesheet_tag }}
  <script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>
  <script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>
{%- endif -%}


{%- liquid
  assign products_to_display = section.settings.collection.all_products_count

  if section.settings.collection.all_products_count > section.settings.products_to_show
    assign products_to_display = section.settings.products_to_show
    assign more_in_collection = true
  endif

  assign columns_mobile_int = section.settings.columns_mobile | plus: 0
  assign show_mobile_slider = false
  if section.settings.swipe_on_mobile and products_to_display > columns_mobile_int
    assign show_mobile_slider = true
  endif

  assign show_desktop_slider = false
  if section.settings.enable_desktop_slider and products_to_display > section.settings.columns_desktop
    assign show_desktop_slider = true
  endif
-%}

<div class="section-heading-wrapper section-container page-width{% if section.settings.change_box_layout !=blank %} type-reverse{% endif %}">
  {% if section.settings.section_heading !=blank %}
  <div class="heading__item">
    <h2 class="heading type-vertical{% if section.settings.heading_size !="default" %} size-{{ section.settings.heading_size }} {% endif %}" data-sub_heading="{{ section.settings.section_sub_heading }}">{{ section.settings.section_heading }}</h2>
  </div>
  {% endif %}
  <div class="color-{{ section.settings.color_scheme }} isolate gradient content__item">
    <div class="collection section-{{ section.id }}-padding{% if section.settings.full_width %} collection--full-width{% endif %}">
      <div class="collection__title title-wrapper title-wrapper--no-top-margin page-width{% if show_mobile_slider %} title-wrapper--self-padded-tablet-down{% endif %}{% if show_desktop_slider %} collection__title--desktop-slider{% endif %}">
        {%- if section.settings.description != blank
   or section.settings.show_description
   and section.settings.collection.description != empty
   -%}
          <div class="collection__description {{ section.settings.description_style }} rte{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
            {%- if section.settings.show_description -%}
              {{ section.settings.collection.description }}
            {%- else -%}
              {{ section.settings.description -}}
            {%- endif %}
          </div>
        {%- endif -%}
      </div>
  
      {% assign grid_gap = ""  %}
      {% if section.settings.box_gap != "default" %}
        {% assign grid_gap = 'grid--gap-' | append: section.settings.box_gap %}
      {% endif %}
      
  
      <slider-component class="slider-mobile-gutter{% if section.settings.full_width %} slider-component-full-width{% endif %}{% if show_mobile_slider == false %} page-width{% endif %}{% if show_desktop_slider == false and section.settings.full_width == false %} page-width-desktop{% endif %}{% if show_desktop_slider %} slider-component-desktop{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
        <ul
          id="Slider-{{ section.id }}"
          class="grid product-grid contains-card contains-card--product{% if settings.card_style == 'standard' %} contains-card--standard{% endif %} grid--{{ section.settings.columns_desktop }}-col-desktop{% if section.settings.collection == blank %} grid--2-col-tablet-down{% else %} grid--{{ section.settings.columns_mobile }}-col-tablet-down{% endif %}{% if show_mobile_slider or show_desktop_slider %} slider{% if show_desktop_slider %} slider--desktop{% endif %}{% if show_mobile_slider %} slider--tablet grid--peek{% endif %}{% endif %} {{ grid_gap }} product-list product-ranking"
          role="list"
          aria-label="{{ 'general.slider.name' | t }}">
          {%- for product in section.settings.collection.products limit: section.settings.products_to_show -%}
            <li
              id="Slide-{{ section.id }}-{{ forloop.index }}"
              class="grid__item{% if show_mobile_slider or show_desktop_slider %} slider__slide{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %} product__item"
              {% if settings.animations_reveal_on_scroll %}
              data-cascade
              style="--animation-order: {{ forloop.index }};"
              {% endif %}>

              <div class="product__info-wrapper {% if settings.page_width > 1400 and section.settings.media_size == "small" %} product__info-wrapper--extra-padding{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
              <product-info
                id="ProductInfo-{{ section.id }}"
                data-section="{{ section.id }}"
                data-url="{{ product.url }}"
                class="product__info-container{% if section.settings.enable_sticky_info %} product__column-sticky{% endif %}"
              >
                {%- assign product_form_id = 'product-form-' | append: section.id -%}
        


                      <p
                        class="product__text inline-richtext{% if block.settings.text_style == 'uppercase' %} caption-with-letter-spacing{% elsif block.settings.text_style == 'subtitle' %} subtitle{% endif %}"
                        {{ block.shopify_attributes }}
                      >
                        {{- block.settings.text -}}
                      </p>
  
                      <div class="product__title" {{ block.shopify_attributes }}>
                        <h1 class="heading">{{ product.title | escape }}</h1>
                        <a href="{{ product.url }}" class="product__title">
                          <h2 class="h1">
                            {{ product.title | escape }}
                          </h2>
                        </a>
                      </div>
    
                      <div class="no-js-hidden" id="price-{{ section.id }}" role="status" {{ block.shopify_attributes }}>
                        {%- render 'price',
                          product: product,
                          use_variant: true,
                          show_badges: true,
                          price_class: 'price--large'
                        -%}
                      </div>
                      {%- if cart.taxes_included or shop.shipping_policy.body != blank -%}
                        <div class="product__tax caption rte">
                          {%- if cart.taxes_included -%}
                            {{ 'products.product.include_taxes' | t }}
                          {%- endif -%}
                          {%- if shop.shipping_policy.body != blank -%}
                            {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                          {%- endif -%}
                        </div>
                      {%- endif -%}
                      <div {{ block.shopify_attributes }}>
                        {%- assign product_form_installment_id = 'product-form-installment-' | append: section.id -%}
                        {%- form 'product', product, id: product_form_installment_id, class: 'installment caption-large' -%}
                          <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                          {{ form | payment_terms }}
                        {%- endform -%}
                      </div>

                      <p
                        class="product__inventory no-js-hidden{% if block.settings.text_style == 'uppercase' %} caption-with-letter-spacing{% elsif block.settings.text_style == 'subtitle' %} subtitle{% endif %}{% if product.selected_or_first_available_variant.inventory_management != 'shopify' %} visibility-hidden{% endif %}"
                        {{ block.shopify_attributes }}
                        id="Inventory-{{ section.id }}"
                        role="status"
                      >
                        {%- if product.selected_or_first_available_variant.inventory_management == 'shopify' -%}
                          {%- if product.selected_or_first_available_variant.inventory_quantity > 0 -%}
                            {%- if product.selected_or_first_available_variant.inventory_quantity <= block.settings.inventory_threshold -%}
                              <svg width="15" height="15" aria-hidden="true">
                                <circle cx="7.5" cy="7.5" r="7.5" fill="rgb(238,148,65, 0.3)"/>
                                <circle cx="7.5" cy="7.5" r="5" stroke="rgb(255, 255, 255)" stroke-width="1" fill="rgb(238,148,65)"/>
                              </svg>
                              {%- if block.settings.show_inventory_quantity -%}
                                {{- 'products.product.inventory_low_stock_show_count' | t: quantity: product.selected_or_first_available_variant.inventory_quantity -}}
                              {%- else -%}
                                {{- 'products.product.inventory_low_stock' | t -}}
                              {%- endif -%}
                            {%- else -%}
                              <svg width="15" height="15" aria-hidden="true">
                                <circle cx="7.5" cy="7.5" r="7.5" fill="rgb(62,214,96, 0.3)"/>
                                <circle cx="7.5" cy="7.5" r="5" stroke="rgb(255, 255, 255)" stroke-width="1" fill="rgb(62,214,96)"/>
                              </svg>
                              {%- if block.settings.show_inventory_quantity -%}
                                {{- 'products.product.inventory_in_stock_show_count' | t: quantity: product.selected_or_first_available_variant.inventory_quantity -}}
                              {%- else -%}
                                  {{- 'products.product.inventory_in_stock' | t -}}
                              {%- endif -%}
                            {%- endif -%}
                          {%- else -%}
                            {%- if product.selected_or_first_available_variant.inventory_policy == 'continue' -%}
                              <svg width="15" height="15" aria-hidden="true">
                                <circle cx="7.5" cy="7.5" r="7.5" fill="rgb(62,214,96, 0.3)"/>
                                <circle cx="7.5" cy="7.5" r="5" stroke="rgb(255, 255, 255)" stroke-width="1" fill="rgb(62,214,96)"/>
                              </svg>
                              {{- 'products.product.inventory_out_of_stock_continue_selling' | t -}}
                            {%- else -%}
                              <svg width="15" height="15" aria-hidden="true">
                                <circle cx="7.5" cy="7.5" r="7.5" fill="rgb(200,200,200, 0.3)"/>
                                <circle cx="7.5" cy="7.5" r="5" stroke="rgb(255, 255, 255)" stroke-width="1" fill="rgb(200,200,200)"/>
                              </svg>
                              {{- 'products.product.inventory_out_of_stock' | t -}}
                            {%- endif -%}
                          {%- endif -%}
                        {%- endif -%}
                      </p>

                      {%- if product.description != blank -%}
                        <div class="product__description rte quick-add-hidden" {{ block.shopify_attributes }}>
                          {{ product.description }}
                        </div>
                      {%- endif -%}

                      <p
                        class="product__sku no-js-hidden{% if block.settings.text_style == 'uppercase' %} caption-with-letter-spacing{% elsif block.settings.text_style == 'subtitle' %} subtitle{% endif %}{% if product.selected_or_first_available_variant.sku.size == 0 %} visibility-hidden{% endif %}"
                        id="Sku-{{ section.id }}"
                        role="status"
                        {{ block.shopify_attributes }}
                      >
                        <span class="visually-hidden">{{ 'products.product.sku' | t }}:</span> {{- product.selected_or_first_available_variant.sku -}}
                      </p>

                      {{ block.settings.custom_liquid }}

                      <div class="product__accordion accordion quick-add-hidden" {{ block.shopify_attributes }}>
                        <details id="Details-{{ block.id }}-{{ section.id }}">
                          <summary>
                            <div class="summary__title">
                              {% render 'icon-accordion', icon: block.settings.icon %}
                              <h2 class="h4 accordion__title inline-richtext">
                                {{ block.settings.heading | default: block.settings.page.title }}
                              </h2>
                            </div>
                            {% render 'icon-caret' %}
                          </summary>
                          <div class="accordion__content rte" id="ProductAccordion-{{ block.id }}-{{ section.id }}">
                            {{ block.settings.content }}
                            {{ block.settings.page.content }}
                          </div>
                        </details>
                      </div>

                      <div
                        id="Quantity-Form-{{ section.id }}"
                        class="product-form__input product-form__quantity{% if settings.inputs_shadow_vertical_offset != 0 and settings.inputs_shadow_vertical_offset < 0 %} product-form__quantity-top{% endif %}"
                        {{ block.shopify_attributes }}
                      >
                        {% comment %} TODO: enable theme-check once `item_count_for_variant` is accepted as valid filter {% endcomment %}
                        {% # theme-check-disable %}
                        {%- assign cart_qty = cart | item_count_for_variant: product.selected_or_first_available_variant.id -%}
                        {% # theme-check-enable %}
                        <label class="quantity__label form__label" for="Quantity-{{ section.id }}">
                          {{ 'products.product.quantity.label' | t }}
                          <span class="quantity__rules-cart no-js-hidden{% if cart_qty == 0 %} hidden{% endif %}">
                            <span class="loading-overlay hidden">
                              <span class="loading-overlay__spinner">
                                <svg
                                  aria-hidden="true"
                                  focusable="false"
                                  class="spinner"
                                  viewBox="0 0 66 66"
                                  xmlns="http://www.w3.org/2000/svg"
                                >
                                  <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                                </svg>
                              </span>
                            </span>
                            <span>({{- 'products.product.quantity.in_cart_html' | t: quantity: cart_qty -}})</span>
                          </span>
                        </label>
                        <quantity-input class="quantity">
                          <button class="quantity__button no-js-hidden" name="minus" type="button">
                            <span class="visually-hidden">
                              {{- 'products.product.quantity.decrease' | t: product: product.title | escape -}}
                            </span>
                            {% render 'icon-minus' %}
                          </button>
                          <input
                            class="quantity__input"
                            type="number"
                            name="quantity"
                            id="Quantity-{{ section.id }}"
                            data-cart-quantity="{{ cart_qty }}"
                            data-min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            {% if product.selected_or_first_available_variant.quantity_rule.max != null %}
                              data-max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                              max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                            {% endif %}
                            step="{{ product.selected_or_first_available_variant.quantity_rule.increment }}"
                            value="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                            form="{{ product_form_id }}"
                          />
                          <button class="quantity__button no-js-hidden" name="plus" type="button">
                            <span class="visually-hidden">
                              {{- 'products.product.quantity.increase' | t: product: product.title | escape -}}
                            </span>
                            {% render 'icon-plus' %}
                          </button>
                        </quantity-input>
                        <div class="quantity__rules caption no-js-hidden">
                          {%- if product.selected_or_first_available_variant.quantity_rule.increment > 1 -%}
                            <span class="divider">
                              {{-
                                'products.product.quantity.multiples_of'
                                | t: quantity: product.selected_or_first_available_variant.quantity_rule.increment
                              -}}
                            </span>
                          {%- endif -%}
                          {%- if product.selected_or_first_available_variant.quantity_rule.min > 1 -%}
                            <span class="divider">
                              {{-
                                'products.product.quantity.minimum_of'
                                | t: quantity: product.selected_or_first_available_variant.quantity_rule.min
                              -}}
                            </span>
                          {%- endif -%}
                          {%- if product.selected_or_first_available_variant.quantity_rule.max != null -%}
                            <span class="divider">
                              {{-
                                'products.product.quantity.maximum_of'
                                | t: quantity: product.selected_or_first_available_variant.quantity_rule.max
                              -}}
                            </span>
                          {%- endif -%}
                        </div>
                      </div>

                      <modal-opener
                        class="product-popup-modal__opener no-js-hidden quick-add-hidden"
                        data-modal="#PopupModal-{{ block.id }}"
                        {{ block.shopify_attributes }}
                      >
                        <button
                          id="ProductPopup-{{ block.id }}"
                          class="product-popup-modal__button link"
                          type="button"
                          aria-haspopup="dialog"
                        >
                          {{ block.settings.text | default: block.settings.page.title }}
                        </button>
                      </modal-opener>
                      <a href="{{ block.settings.page.url }}" class="product-popup-modal__button link no-js">
                        {{- block.settings.text -}}
                      </a>

                      {% assign share_url = product.selected_variant.url | default: product.url | prepend: request.origin %}
                      {% render 'share-button',
                        block: block,
                        share_link: share_url
                      %}
        

                      {% render 'product-variant-picker-collection', product: product, block: block, product_form_id: product_form_id, block_picker_type: 'button' %}
    
                      {%- render 'buy-buttons', block: block, product: product, product_form_id: product_form_id, section_id: section.id, show_pickup_availability: true -%}

                      {%- if product.metafields.reviews.rating.value != blank -%}
                        {% liquid
                          assign rating_decimal = 0
                          assign decimal = product.metafields.reviews.rating.value.rating | modulo: 1
                          if decimal >= 0.3 and decimal <= 0.7
                            assign rating_decimal = 0.5
                          elsif decimal > 0.7
                            assign rating_decimal = 1
                          endif
                        %}
                        <div
                          class="rating"
                          role="img"
                          aria-label="{{ 'accessibility.star_reviews_info' | t: rating_value: product.metafields.reviews.rating.value, rating_max: product.metafields.reviews.rating.value.scale_max }}"
                        >
                          <span
                            aria-hidden="true"
                            class="rating-star"
                            style="--rating: {{ product.metafields.reviews.rating.value.rating | floor }}; --rating-max: {{ product.metafields.reviews.rating.value.scale_max }}; --rating-decimal: {{ rating_decimal }};"
                          ></span>
                        </div>
                        <p class="rating-text caption">
                          <span aria-hidden="true">
                            {{- product.metafields.reviews.rating.value }} /
                            {{ product.metafields.reviews.rating.value.scale_max -}}
                          </span>
                        </p>
                        <p class="rating-count caption">
                          <span aria-hidden="true">({{ product.metafields.reviews.rating_count }})</span>
                          <span class="visually-hidden">
                            {{- product.metafields.reviews.rating_count }}
                            {{ 'accessibility.total_reviews' | t -}}
                          </span>
                        </p>
                      {%- endif -%}

                      <product-recommendations class="complementary-products quick-add-hidden no-js-hidden{% if block.settings.make_collapsible_row %} is-accordion{% endif %}{% if block.settings.enable_quick_add %} complementary-products-contains-quick-add{% endif %}" data-url="{{ routes.product_recommendations_url }}?section_id={{ section.id }}&product_id={{ product.id }}&limit={{ block.settings.product_list_limit }}&intent=complementary">
                        {%- if recommendations.performed and recommendations.products_count > 0 -%}
                          <aside aria-label="{{ 'accessibility.complementary_products' | t }}" {{ block.shopify_attributes }}{% if block.settings.make_collapsible_row %} class="product__accordion accordion"{% endif %}>
                            <div class="complementary-products__container">
                              {%- if block.settings.make_collapsible_row -%}
                                <details id="Details-{{ block.id }}-{{ section.id }}" open>
                                  <summary>
                              {%- endif %}
                              <div class="summary__title">
                                {%- if block.settings.make_collapsible_row -%}
                                  {% render 'icon-accordion', icon: block.settings.icon %}
                                  <h2 class="h4 accordion__title">{{ block.settings.block_heading }}</h2>
                                {%- else -%}
                                  <h2 class="h3 accordion__title">{{ block.settings.block_heading }}</h2>
                                {%- endif -%}
                              </div>
                              {%- if block.settings.make_collapsible_row -%}
                                  {% render 'icon-caret' %}
                                </summary>
                              {%- endif -%}
                              <slideshow-component class="slider-mobile-gutter">
                                {%- assign number_of_slides = recommendations.products_count | plus: 0.0 | divided_by: block.settings.products_per_page | ceil -%}
                                <div id="Slider-{{ block.id }}" class="contains-card contains-card--product complementary-slider grid grid--1-col slider slider--everywhere" role="list"{% if number_of_slides > 1 %} aria-label="{{ 'general.slider.name' | t }}"{% endif %}>
                                  {%- for i in (1..number_of_slides) -%}
                                    <div id="Slide-{{ block.id }}-{{ forloop.index }}" class="complementary-slide complementary-slide--{{ settings.card_style }} grid__item slider__slide slideshow__slide" tabindex="-1" role="group"{% if number_of_slides > 1 %} aria-roledescription="{{ 'sections.slideshow.slide' | t }}" aria-label="{{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}"{% endif %}>
                                      <ul class="list-unstyled" role="list">
                                        {%- for product in recommendations.products limit: block.settings.products_per_page offset: continue -%}
                                          <li>
                                            {% render 'card-product',
                                              card_product: product,
                                              media_aspect_ratio: block.settings.image_ratio,
                                              show_secondary_image: false,
                                              lazy_load: false,
                                              show_quick_add: block.settings.enable_quick_add,
                                              section_id: section.id,
                                              horizontal_class: true,
                                              horizontal_quick_add: true
                                            %}
                                          </li>
                                        {%- endfor -%}
                                      </ul>
                                    </div>
                                  {%- endfor -%}
                                </div>
                                {%- if number_of_slides > 1 -%}
                                  <div class="slider-buttons no-js-hidden">
                                    <button type="button" class="slider-button slider-button--prev" name="previous" aria-label="{{ 'general.slider.previous_slide' | t }}">{% render 'icon-caret' %}</button>
                                    <div class="slider-counter slider-counter--{{ block.settings.pagination_style }}{% if block.settings.pagination_style == 'counter' or block.settings.pagination_style == 'numbers' %} caption{% endif %}">
                                      {%- if block.settings.pagination_style == 'counter' -%}
                                        <span class="slider-counter--current">1</span>
                                        <span aria-hidden="true"> / </span>
                                        <span class="visually-hidden">{{ 'general.slider.of' | t }}</span>
                                        <span class="slider-counter--total">{{ number_of_slides }}</span>
                                      {%- else -%}
                                        <div class="slideshow__control-wrapper">
                                          {%- for i in (1..number_of_slides) -%}
                                            <button class="slider-counter__link slider-counter__link--{{ block.settings.pagination_style }} link" aria-label="{{ 'sections.slideshow.load_slide' | t }} {{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}" aria-controls="Slider-{{ block.id }}">
                                              {%- if block.settings.pagination_style == 'numbers' -%}{{ forloop.index }}{% else %}<span class="dot"></span>{%- endif -%}
                                            </button>
                                          {%- endfor -%}
                                        </div>
                                      {%- endif -%}
                                    </div>
                                    <button type="button" class="slider-button slider-button--next" name="next" aria-label="{{ 'general.slider.next_slide' | t }}">{% render 'icon-caret' %}</button>
                                  </div>
                                {%- endif -%}
                              </slideshow-component>
                              {%- if block.settings.make_collapsible_row -%}
                                </details>
                              {%- endif -%}
                            </div>
                          </aside>
                        {%- endif -%}
                        {{ 'component-card.css' | asset_url | stylesheet_tag }}
                        {{ 'component-complementary-products.css' | asset_url | stylesheet_tag }}
                        {%- if block.settings.enable_quick_add -%}
                          {{ 'quick-add.css' | asset_url | stylesheet_tag }}
                          <script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>
                        {%- endif -%}
                      </product-recommendations>
       
                      {% render 'icon-with-text',
                        block: block
                      %}

                <a href="{{ product.url }}" class="link product__view-details animate-arrow">
                  {{ 'products.product.view_full_details' | t }}
                  {% render 'icon-arrow' %}
                </a>
              </product-info>
            </div>
               
            </li>
          {%- else -%}
            {%- for i in (1..4) -%}
              <li
                class="grid__item{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
                {% if settings.animations_reveal_on_scroll %}
                data-cascade
                style="--animation-order: {{ forloop.index }};"
                {% endif %}>
                {%- assign placeholder_image = 'product-apparel-' | append: forloop.rindex -%}
                {% render 'card-product-collection'
                 , show_vendor: section.settings.show_vendor,
                 placeholder_image: placeholder_image %}
              </li>
            {%- endfor -%}
          {%- endfor -%}
        </ul>
        {%- if show_mobile_slider or show_desktop_slider -%}
          <div class="slider-buttons no-js-hidden">
            <button
              type="button"
              class="slider-button slider-button--prev"
              name="previous"
              aria-label="{{ 'general.slider.previous_slide' | t }}"
              aria-controls="Slider-{{ section.id }}">
              {% render 'icon-caret' %}
            </button>
            <div class="slider-counter caption">
              <span class="slider-counter--current">1</span>
              <span aria-hidden="true">
                /
              </span>
              <span class="visually-hidden">{{ 'general.slider.of' | t }}</span>
              <span class="slider-counter--total">{{ products_to_display }}</span>
            </div>
            <button
              type="button"
              class="slider-button slider-button--next"
              name="next"
              aria-label="{{ 'general.slider.next_slide' | t }}"
              aria-controls="Slider-{{ section.id }}">
              {% render 'icon-caret' %}
            </button>
          </div>
        {%- endif -%}
      </slider-component>

      <a href="/collections" class="create_account link animate-arrow align-right" >
        すべての商品を見る
        <span class="icon-wrap"><svg viewBox="0 0 14 10" fill="none" aria-hidden="true" focusable="false" class="icon icon-arrow" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.537.808a.5.5 0 01.817-.162l4 4a.5.5 0 010 .708l-4 4a.5.5 0 11-.708-.708L11.793 5.5H1a.5.5 0 010-1h10.793L8.646 1.354a.5.5 0 01-.109-.546z" fill="currentColor"></path></svg>
        </span>
      </a>    
          

      {% comment %}
      {%- if section.settings.show_view_all and more_in_collection -%}
        <div class="center collection__view-all{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
          <a
            href="{{ section.settings.collection.url }}"
            class="{% if section.settings.view_all_style == 'link' %}link underlined-link{% elsif section.settings.view_all_style == 'solid' %}button{% else %}button button--secondary{% endif %}"
            aria-label="{{ 'sections.featured_collection.view_all_label' | t: collection_name: section.settings.collection.title }}">
            {{ 'sections.featured_collection.view_all' | t }}
          </a>
        </div>
      {%- endif -%}
      {% if section.settings.image_shape == 'arch' %}
        {% render 'mask-arch' %}
      {%- endif -%}
      {% endcomment %}
      
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "ランキング",
    "tag": "section",
    "class": "section",
    "disabled_on": {
      "groups": ["header", "footer"]
    },
    "settings": [
      {
        "type": "text",
        "id": "section_heading",
        "label": "見出し"
      },
      {
        "type": "select",
        "id": "heading_size",
        "options": [
          {
            "value": "default",
            "label": "t:sections.all.heading_size.options__1.label"
          }, {
            "value": "m",
            "label": "t:sections.all.heading_size.options__2.label"
          }, {
            "value": "l",
            "label": "t:sections.all.heading_size.options__3.label"
          }, {
            "value": "xl",
            "label": "最大"
          }
        ],
        "default": "l",
        "label": "t:sections.all.heading_size.label"
      },
      {
        "type": "text",
        "id": "section_sub_heading",
        "label": "見出し（英語）"
      },
      {
        "type": "checkbox",
        "id": "change_box_layout",
        "default": false,
        "label": "レイアウトを左右入れ替える"
      }, {
        "type": "richtext",
        "id": "description",
        "label": "t:sections.featured-collection.settings.description.label"
      }, {
        "type": "checkbox",
        "id": "show_description",
        "label": "t:sections.featured-collection.settings.show_description.label",
        "default": false
      }, {
        "type": "select",
        "id": "description_style",
        "label": "t:sections.featured-collection.settings.description_style.label",
        "options": [
          {
            "value": "body",
            "label": "t:sections.featured-collection.settings.description_style.options__1.label"
          }, {
            "value": "subtitle",
            "label": "t:sections.featured-collection.settings.description_style.options__2.label"
          }, {
            "value": "uppercase",
            "label": "t:sections.featured-collection.settings.description_style.options__3.label"
          }
        ],
        "default": "body"
      }, {
        "type": "collection",
        "id": "collection",
        "label": "t:sections.featured-collection.settings.collection.label"
      }, {
        "type": "range",
        "id": "products_to_show",
        "min": 2,
        "max": 25,
        "step": 1,
        "default": 4,
        "label": "t:sections.featured-collection.settings.products_to_show.label"
      }, {
        "type": "range",
        "id": "columns_desktop",
        "min": 1,
        "max": 5,
        "step": 1,
        "default": 4,
        "label": "t:sections.featured-collection.settings.columns_desktop.label"
      }, {
        "type": "checkbox",
        "id": "full_width",
        "label": "t:sections.featured-collection.settings.full_width.label",
        "default": false
      }, {
        "type": "checkbox",
        "id": "show_view_all",
        "default": true,
        "label": "t:sections.featured-collection.settings.show_view_all.label"
      }, {
        "type": "select",
        "id": "view_all_style",
        "label": "t:sections.featured-collection.settings.view_all_style.label",
        "options": [
          {
            "value": "link",
            "label": "t:sections.featured-collection.settings.view_all_style.options__1.label"
          }, {
            "value": "outline",
            "label": "t:sections.featured-collection.settings.view_all_style.options__2.label"
          }, {
            "value": "solid",
            "label": "t:sections.featured-collection.settings.view_all_style.options__3.label"
          }
        ],
        "default": "solid"
      }, {
        "type": "checkbox",
        "id": "enable_desktop_slider",
        "label": "t:sections.featured-collection.settings.enable_desktop_slider.label",
        "default": false
      }, {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.label",
        "info": "t:sections.all.colors.has_cards_info",
        "default": "background-1"
      }, {
        "type": "header",
        "content": "t:sections.featured-collection.settings.header.content"
      }, {
        "type": "select",
        "id": "image_ratio",
        "options": [
          {
            "value": "adapt",
            "label": "t:sections.featured-collection.settings.image_ratio.options__1.label"
          }, {
            "value": "portrait",
            "label": "t:sections.featured-collection.settings.image_ratio.options__2.label"
          }, {
            "value": "square",
            "label": "t:sections.featured-collection.settings.image_ratio.options__3.label"
          }
        ],
        "default": "adapt",
        "label": "t:sections.featured-collection.settings.image_ratio.label"
      }, {
        "type": "select",
        "id": "image_shape",
        "options": [
          {
            "value": "default",
            "label": "t:sections.all.image_shape.options__1.label"
          },
          {
            "value": "arch",
            "label": "t:sections.all.image_shape.options__2.label"
          },
          {
            "value": "blob",
            "label": "t:sections.all.image_shape.options__3.label"
          },
          {
            "value": "chevronleft",
            "label": "t:sections.all.image_shape.options__4.label"
          }, {
            "value": "chevronright",
            "label": "t:sections.all.image_shape.options__5.label"
          }, {
            "value": "diamond",
            "label": "t:sections.all.image_shape.options__6.label"
          }, {
            "value": "parallelogram",
            "label": "t:sections.all.image_shape.options__7.label"
          }, {
            "value": "round",
            "label": "t:sections.all.image_shape.options__8.label"
          }
        ],
        "default": "default",
        "label": "t:sections.all.image_shape.label",
        "info": "t:sections.all.image_shape.info"
      }, {
        "type": "checkbox",
        "id": "show_secondary_image",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_secondary_image.label"
      }, {
        "type": "checkbox",
        "id": "show_vendor",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_vendor.label"
      }, {
        "type": "checkbox",
        "id": "show_rating",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_rating.label",
        "info": "t:sections.featured-collection.settings.show_rating.info"
      }, {
        "type": "checkbox",
        "id": "enable_quick_add",
        "default": false,
        "label": "t:sections.featured-collection.settings.enable_quick_buy.label"
      }, {
        "type": "header",
        "content": "t:sections.featured-collection.settings.header_mobile.content"
      }, {
        "type": "select",
        "id": "columns_mobile",
        "default": "2",
        "label": "t:sections.featured-collection.settings.columns_mobile.label",
        "options": [
          {
            "value": "1",
            "label": "t:sections.featured-collection.settings.columns_mobile.options__1.label"
          }, {
            "value": "2",
            "label": "t:sections.featured-collection.settings.columns_mobile.options__2.label"
          }
        ]
      }, {
        "type": "checkbox",
        "id": "swipe_on_mobile",
        "default": false,
        "label": "t:sections.featured-collection.settings.swipe_on_mobile.label"
      }, {
        "type": "header",
        "content": "カラム間の余白"
      }, {
        "type": "select",
        "id": "box_gap",
        "default": "default",
        "label": "余白の広さ",
        "options": [
          {
            "value": "none",
            "label": "余白なし"
          }, {
            "value": "s",
            "label": "狭い"
          }, {
            "value": "default",
            "label": "標準"
          }, {
            "value": "l",
            "label": "広い"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "ランキング"
      }
    ]
  }
{% endschema %}